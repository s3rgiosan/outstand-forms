(()=>{"use strict";var t,e={490:()=>{const t=window.wp.blocks;function e(t){var o,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(o=0;o<s;o++)t[o]&&(n=e(t[o]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}const o=function(){for(var t,o,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(o=e(t))&&(r&&(r+=" "),r+=o);return r},n=window.wp.blockEditor,r=window.wp.components,s=window.wp.element,a=window.wp.data,i=window.wp.i18n,l=[{value:"top",label:(0,i.__)("Top","outstand-forms")},{value:"left",label:(0,i.__)("Left","outstand-forms")},{value:"right",label:(0,i.__)("Right","outstand-forms")}],u=[{value:"bottom",label:(0,i.__)("Bottom","outstand-forms")},{value:"top",label:(0,i.__)("Top","outstand-forms")}],d=((0,i.__)("Disabled (off)","outstand-forms"),(0,i.__)("Enabled (on)","outstand-forms"),(0,i.__)("Full Name (name)","outstand-forms"),(0,i.__)("First Name (given-name)","outstand-forms"),(0,i.__)("Last Name (family-name)","outstand-forms"),(0,i.__)("Email (email)","outstand-forms"),(0,i.__)("Username (username)","outstand-forms"),(0,i.__)("New Password (new-password)","outstand-forms"),(0,i.__)("Current Password (current-password)","outstand-forms"),(0,i.__)("Organization (organization)","outstand-forms"),(0,i.__)("Street Address (street-address)","outstand-forms"),(0,i.__)("Address Line 1 (address-line1)","outstand-forms"),(0,i.__)("Address Line 2 (address-line2)","outstand-forms"),(0,i.__)("Country (country-name)","outstand-forms"),(0,i.__)("ZIP/Postal Code (postal-code)","outstand-forms"),(0,i.__)("City (city)","outstand-forms"),(0,i.__)("Region/State (region)","outstand-forms"),(0,i.__)("Phone Number (tel)","outstand-forms"),(0,i.__)("Birthdate (bday)","outstand-forms"),(0,i.__)("Website URL (url)","outstand-forms"),{randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)});let f;const m=new Uint8Array(16),c=[];for(let t=0;t<256;++t)c.push((t+256).toString(16).slice(1));const _=function(t,e,o){if(d.randomUUID&&!e&&!t)return d.randomUUID();const n=(t=t||{}).random??t.rng?.()??function(){if(!f){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");f=crypto.getRandomValues.bind(crypto)}return f(m)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){if((o=o||0)<0||o+16>e.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`);for(let t=0;t<16;++t)e[o+t]=n[t];return e}return function(t,e=0){return(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase()}(n)};function p(t=9){return _().replace(/-/g,"").slice(-t)}function h(t,e=[]){return e.flatMap((e=>{const o=Array.isArray(e.innerBlocks)?e.innerBlocks:[];return[...t(e)?[e]:[],...h(t,o)]}))}const g=window.ReactJSXRuntime,b=[["osf/form-fields",{},[["osf/field-text",{}]]],["osf/form-submit-button",{}]],x=window.wp.primitives,w=()=>(0,g.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",className:"osf__icon osf__icon--form",children:[(0,g.jsx)(x.Rect,{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),(0,g.jsx)(x.Path,{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2M12 11h4M12 16h4M8 11h.01M8 16h.01"})]});(0,t.registerBlockType)("osf/form",{edit:function({clientId:t,attributes:e,setAttributes:d}){const{formId:f,type:m,method:c,action:_,labelPosition:x,helpTextPosition:w,requiredIndicator:v}=e,y=(0,s.useMemo)((()=>p()),[]),k=function(t,e){const o=(0,s.useMemo)((()=>JSON.stringify(e)),[e]);return(0,a.useSelect)((e=>{const{getBlockRootClientId:r,getBlocks:s,getBlockIndex:a}=e(n.store),i=r(t);if(!i)return!1;const l=h((t=>"osf/form"===t.name),s(i)),u=a(t,i);if(-1===u||!l.length)return!1;for(const e of l)if(e.clientId!==t&&JSON.stringify(e.attributes)===o&&a(e.clientId,i)<u)return!0;return!1}),[t,o])}(t,e),C=function(t){return(0,a.useSelect)((e=>{const{getBlocks:o}=e(n.store);return h((t=>t.name?.startsWith("osf/field-")),o(t))}),[t])}(t),{updateBlockAttributes:j}=(0,a.useDispatch)(n.store),I=(0,s.useRef)(!1);(0,s.useEffect)((()=>{f&&!k||(d({formId:`${"inline"===m?"inline-":"ref-"}${y}`}),k&&!I.current&&(C.forEach((t=>{const e=p();j(t.clientId,{fieldId:e})})),I.current=!0))}),[m,f,k,d,y,t,C,j]);const B=(0,n.useBlockProps)({className:o("osf-form",`osf-form--${m}`,`osf-form--${f}`)}),T=(0,n.useInnerBlocksProps)(B,{__experimentalCaptureToolbars:!0,template:b,templateLock:"insert"});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{...T}),(0,g.jsx)(n.InspectorControls,{children:(0,g.jsxs)(r.PanelBody,{title:(0,i.__)("Settings","outstand-forms"),children:[(0,g.jsx)(r.SelectControl,{label:(0,i.__)("Method","outstand-forms"),options:[{label:(0,i.__)("GET","outstand-forms"),value:"get"},{label:(0,i.__)("POST","outstand-forms"),value:"post"}],value:c,onChange:t=>{d({method:t})},help:(0,i.__)("The HTTP method used to submit the form data.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,g.jsx)(r.TextControl,{type:"url",label:(0,i.__)("Form action","outstand-forms"),value:_,onChange:t=>{d({action:t})},autoComplete:"off",help:(0,i.__)("The URL where the form will be submitted. Leave blank to handle the submission automatically.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]})}),(0,g.jsxs)(n.InspectorAdvancedControls,{children:[(0,g.jsx)(r.__experimentalToggleGroupControl,{label:(0,i.__)("Label Position","outstand-forms"),value:x,isBlock:!0,onChange:t=>{d({labelPosition:t})},help:(0,i.__)("Select the position of the label.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,children:l.map((({value:t,label:e})=>(0,g.jsx)(r.__experimentalToggleGroupControlOption,{value:t,label:e},t)))}),(0,g.jsx)(r.__experimentalToggleGroupControl,{label:(0,i.__)("Help Text Position","outstand-forms"),value:w,isBlock:!0,onChange:t=>{d({helpTextPosition:t})},help:(0,i.__)("Select the position of the help text.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,children:u.map((({value:t,label:e})=>(0,g.jsx)(r.__experimentalToggleGroupControlOption,{value:t,label:e},t)))}),(0,g.jsx)(r.TextControl,{label:(0,i.__)("Required Indicator","outstand-forms"),value:v,onChange:t=>{d({requiredIndicator:t})},autoComplete:"off",help:(0,i.__)("The character or string used to indicate that a field is required. Leave blank to disable.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]})]})},save:function(){return(0,g.jsx)(n.InnerBlocks.Content,{})},icon:(0,g.jsx)(w,{})})}},o={};function n(t){var r=o[t];if(void 0!==r)return r.exports;var s=o[t]={exports:{}};return e[t](s,s.exports,n),s.exports}n.m=e,t=[],n.O=(e,o,r,s)=>{if(!o){var a=1/0;for(d=0;d<t.length;d++){for(var[o,r,s]=t[d],i=!0,l=0;l<o.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((t=>n.O[t](o[l])))?o.splice(l--,1):(i=!1,s<a&&(a=s));if(i){t.splice(d--,1);var u=r();void 0!==u&&(e=u)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[o,r,s]},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={519:0,119:0};n.O.j=e=>0===t[e];var e=(e,o)=>{var r,s,[a,i,l]=o,u=0;if(a.some((e=>0!==t[e]))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var d=l(n)}for(e&&e(o);u<a.length;u++)s=a[u],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(d)},o=globalThis.webpackChunkoutstand_forms=globalThis.webpackChunkoutstand_forms||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var r=n.O(void 0,[119],(()=>n(490)));r=n.O(r)})();