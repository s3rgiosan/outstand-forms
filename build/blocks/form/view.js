import*as e from"@wordpress/interactivity";var t,r,o,n,i={},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return i[e].call(r.exports,r,r.exports,a),r.exports}a.m=i,r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var n=Object.create(null);a.r(n);var i={};t=t||[null,r({}),r([]),r(r)];for(var s=2&o&&e;"object"==typeof s&&!~t.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,a.d(n,i),n},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>e+".js?ver=906cf2c64a51f6c4583b",a.miniCssF=e=>{},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;if("string"==typeof import.meta.url&&(e=import.meta.url),!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e+"../../"})(),o={614:0},n=e=>{var t,r,{__webpack_ids__:n,__webpack_modules__:i,__webpack_runtime__:s}=e,l=0;for(t in i)a.o(i,t)&&(a.m[t]=i[t]);for(s&&s(a);l<n.length;l++)r=n[l],a.o(o,r)&&o[r]&&o[r][0](),o[n[l]]=0},a.f.j=(e,t)=>{var r=a.o(o,e)?o[e]:void 0;if(0!==r)if(r)t.push(r[1]);else{var i=import("../../"+a.u(e)).then(n,(t=>{throw 0!==o[e]&&(o[e]=void 0),t}));i=Promise.race([i,new Promise((t=>r=o[e]=[t]))]),t.push(r[1]=i)}};const l=(d={getConfig:()=>e.getConfig,getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store,withScope:()=>e.withScope,withSyncEvent:()=>e.withSyncEvent},f={},a.d(f,d),f),c={validators:{},register(e,t){this.validators[e]=t},get(e){return this.validators[e]},validate(e,t={}){const r=[];for(const[o,n]of Object.entries(t)){if(!1===n)continue;const t=this.get(o);t&&(t(e,!0===n?{}:n)||r.push(o))}return{isValid:0===r.length,errors:r}}};var d,f;c.register("required",(function(e){return null!=e&&""!==e})),c.register("email",(function(e){return!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)})),c.register("url",(function(e){return!e||/^https?:\/\/[^\s/$.?#].[^\s]*$/i.test(e)})),c.register("pattern",(function(e,t=""){if(!e||!t)return!0;try{return new RegExp(t).test(e)}catch{return!0}})),c.register("minLength",(function(e,t=0){return!e||0===t||e.length>=t})),c.register("maxLength",(function(e,t=0){return!e||0===t||e.length<=t})),c.register("min",(function(e,t=0){return!(e&&!isNaN(e))||parseFloat(e)>=parseFloat(t)})),c.register("max",(function(e,t=0){return!(e&&!isNaN(e))||parseFloat(e)<=parseFloat(t)}));const{state:u,actions:m}=(0,l.store)("osf/form",{state:{get fieldAriaDescribedByAttribute(){const{isValid:e,helpTextId:t,errorId:r}=(0,l.getContext)();if(t||r)return r?e?t:`${r} ${t}`:t},get fieldErrorMessage(){const{isValid:e,validationErrors:t}=(0,l.getContext)();if(e)return"";const{validationMessages:r={}}=(0,l.getConfig)("osf/form");if(!r)return"";const o=(0,l.getContext)(),{validationRules:n}=o,i=t[0];if(void 0===r?.[i])return"";let s=r[i];switch(i){case"minLength":s=s.replace("{{min}}",n.minLength);break;case"maxLength":s=s.replace("{{max}}",n.maxLength);break;case"min":s=s.replace("{{min}}",n.min);break;case"max":s=s.replace("{{max}}",n.max)}return s},get isFormValid(){const{formFields:e}=(0,l.getContext)("osf/form");return Object.keys(e).length>0&&Object.values(e).every(Boolean)}},actions:{handleFieldFocus(){(0,l.getContext)().isFocused=!0},handleFieldBlur(){(0,l.getContext)().isFocused=!1},handleFieldChange(){const e=(0,l.getContext)(),{ref:t}=(0,l.getElement)();e.value=t.value},handleFieldValidate(){const e=(0,l.getContext)(),{fieldId:t,value:r,validationRules:o}=e,{isValid:n,errors:i}=c.validate(r,o);e.isValid=n,e.validationErrors=i;const{ref:s}=(0,l.getElement)(),a=(0,l.getContext)("osf/form");a.formFields||(a.formFields={}),a.formFields[t]=n;const d=new CustomEvent("osf-field-validated");s.dispatchEvent(d)},handleFormSubmit:(0,l.withSyncEvent)((e=>{e.preventDefault();const{ref:t}=(0,l.getElement)();m.validateForm().then((()=>{const e=new CustomEvent("osf-form-validated");t.dispatchEvent(e)})),t.addEventListener("osf-form-validated",(0,l.withScope)((()=>{u.isFormValid&&t.submit()})))})),validateForm(){const{formFields:e}=(0,l.getContext)("osf/form"),{ref:t}=(0,l.getElement)(),r=Object.keys(e||{}).map((e=>new Promise((r=>{const o=t.querySelector(`[id="${e}"]`);if(!o)return r();const n=()=>{o.removeEventListener("osf-field-validated",n),r()};o.addEventListener("osf-field-validated",n,{once:!0});const i=new CustomEvent("osf-field-validate",{bubbles:!0});o.dispatchEvent(i)}))));return Promise.all(r)}},callbacks:{registerField(){const e=(0,l.getContext)(),{fieldId:t,isValid:r}=e,o=(0,l.getContext)("osf/form");o.formFields||(o.formFields={}),o.formFields[t]=r},async initMask(){var e;const{ref:t}=(0,l.getElement)(),{inputmask:r}=null!==(e=t?.dataset)&&void 0!==e?e:{};if(!r)return;const{default:o}=await a.e(660).then(a.t.bind(a,660,23));new o(r).mask(t)}}});