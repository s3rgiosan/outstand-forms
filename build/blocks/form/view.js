import*as e from"@wordpress/interactivity";var t,r,n,o,i={},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return i[e].call(r.exports,r,r.exports,s),r.exports}s.m=i,r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var o=Object.create(null);s.r(o);var i={};t=t||[null,r({}),r([]),r(r)];for(var a=2&n&&e;"object"==typeof a&&!~t.indexOf(a);a=r(a))Object.getOwnPropertyNames(a).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,s.d(o,i),o},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,r)=>(s.f[r](e,t),t)),[])),s.u=e=>e+".js?ver=906cf2c64a51f6c4583b",s.miniCssF=e=>{},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;if("string"==typeof import.meta.url&&(e=import.meta.url),!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../../"})(),n={614:0},o=e=>{var t,r,{__webpack_ids__:o,__webpack_modules__:i,__webpack_runtime__:a}=e,l=0;for(t in i)s.o(i,t)&&(s.m[t]=i[t]);for(a&&a(s);l<o.length;l++)r=o[l],s.o(n,r)&&n[r]&&n[r][0](),n[o[l]]=0},s.f.j=(e,t)=>{var r=s.o(n,e)?n[e]:void 0;if(0!==r)if(r)t.push(r[1]);else{var i=import("../../"+s.u(e)).then(o,(t=>{throw 0!==n[e]&&(n[e]=void 0),t}));i=Promise.race([i,new Promise((t=>r=n[e]=[t]))]),t.push(r[1]=i)}};const l=(u={getConfig:()=>e.getConfig,getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store,withScope:()=>e.withScope,withSyncEvent:()=>e.withSyncEvent},m={},s.d(m,u),m),c=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,f=/^https?:\/\/(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}|localhost|\d{1,3}(?:\.\d{1,3}){3})(?::\d{1,5})?(?:\/[^\s]*)?$/i,d=new Map;var u,m;const p={required:function(e){return null!=e&&""!==("string"==typeof e?e.trim():e)},email:function(e){return!e||c.test(e)},url:function(e){return!e||f.test(e)},pattern:function(e,t=""){if(!e||!t)return!0;try{let r=d.get(t);return r||(r=new RegExp(t),d.set(t,r)),r.test(e)}catch{return!1}},minLength:function(e,t=0){return""===e||null==e||0===t||[...String(e)].length>=t},maxLength:function(e,t=0){return""===e||null==e||0===t||[...String(e)].length<=t},min:function(e,t=0){return!(""!==e&&null!=e&&!isNaN(e))||parseFloat(e)>=parseFloat(t)},max:function(e,t=0){return!(""!==e&&null!=e&&!isNaN(e))||parseFloat(e)<=parseFloat(t)}},{state:g,actions:v}=(0,l.store)("osf/form",{state:{get fieldAriaDescribedByAttribute(){const{isValid:e,helpTextId:t,errorId:r}=(0,l.getContext)();if(t||r)return r?e?t:`${r} ${t}`:t},get fieldErrorMessage(){const{isValid:e,validationErrors:t}=(0,l.getContext)();if(e)return"";const{validationMessages:r={}}=(0,l.getConfig)("osf/form");if(!r)return"";const n=(0,l.getContext)(),{validationRules:o}=n,i=t[0];if(void 0===r?.[i])return"";let a=r[i];switch(i){case"minLength":a=a.replace("{{min}}",o.minLength);break;case"maxLength":a=a.replace("{{max}}",o.maxLength);break;case"min":a=a.replace("{{min}}",o.min);break;case"max":a=a.replace("{{max}}",o.max)}return a},get isFormValid(){const{formFields:e}=(0,l.getContext)("osf/form");return Object.keys(e).length>0&&Object.values(e).every(Boolean)}},actions:{handleFieldFocus(){(0,l.getContext)().isFocused=!0},handleFieldBlur(){(0,l.getContext)().isFocused=!1},handleFieldChange(){const e=(0,l.getContext)(),{ref:t}=(0,l.getElement)();e.value=t.value},handleFieldValidate(){const e=(0,l.getContext)(),{fieldId:t,value:r,validationRules:n}=e,{isValid:o,errors:i}=function(e,t={}){const r=[];for(const[n,o]of Object.entries(t)){if(!1===o)continue;const t=p[n];t&&(t(e,!0===o?{}:o)||r.push(n))}return{isValid:0===r.length,errors:r}}(r,n);e.isValid=o,e.validationErrors=i;const{ref:a}=(0,l.getElement)(),s=(0,l.getContext)("osf/form");s.formFields||(s.formFields={}),s.formFields[t]=o;const c=new CustomEvent("osf-field-validated");a.dispatchEvent(c)},handleFormSubmit:(0,l.withSyncEvent)((e=>{e.preventDefault();const{ref:t}=(0,l.getElement)(),r=(0,l.withScope)((()=>{g.isFormValid&&t.submit()}));t.addEventListener("osf-form-validated",r,{once:!0}),v.validateForm().then((()=>{const e=new CustomEvent("osf-form-validated");t.dispatchEvent(e)})).catch((()=>{t.removeEventListener("osf-form-validated",r)}))})),validateForm(){const{formFields:e}=(0,l.getContext)("osf/form"),{ref:t}=(0,l.getElement)(),r=Object.keys(e||{}).map((e=>new Promise((r=>{const n=t.querySelector(`[id="${e}"]`);if(!n)return r();const o=()=>{n.removeEventListener("osf-field-validated",o),r()};n.addEventListener("osf-field-validated",o,{once:!0});const i=new CustomEvent("osf-field-validate",{bubbles:!0});n.dispatchEvent(i)}))));return Promise.all(r)}},callbacks:{registerField(){const e=(0,l.getContext)(),{fieldId:t,isValid:r}=e,n=(0,l.getContext)("osf/form");n.formFields||(n.formFields={}),n.formFields[t]=r},async initMask(){var e;const{ref:t}=(0,l.getElement)(),{inputmask:r}=null!==(e=t?.dataset)&&void 0!==e?e:{};if(r)try{const{default:e}=await s.e(660).then(s.t.bind(s,660,23));new e(r).mask(t)}catch{}}}});