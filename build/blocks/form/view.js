import*as e from"@wordpress/interactivity";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const n=(i={getConfig:()=>e.getConfig,getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store,withSyncEvent:()=>e.withSyncEvent},o={},t.d(o,i),o),r={validators:{},register(e,t){this.validators[e]=t},get(e){return this.validators[e]},validate(e,t={}){const n=[];for(const[r,i]of Object.entries(t)){if(!1===i)continue;const t=this.get(r);t&&(t(e,!0===i?{}:i)||n.push(r))}return{isValid:0===n.length,errors:n}}};var i,o;r.register("required",(function(e){return null!=e&&""!==e})),r.register("minLength",(function(e,t=0){return!e||0===t||e.length>=t})),r.register("maxLength",(function(e,t=0){return!e||0===t||e.length<=t}));const{actions:a}=(0,n.store)("osf/form",{state:{get fieldAriaDescribedByAttribute(){const{isValid:e,helpTextFieldId:t,errorFieldId:r}=(0,n.getContext)();if(t||r)return r?e?t:`${r} ${t}`:t},get fieldErrorMessage(){const{isValid:e,validationErrors:t}=(0,n.getContext)();if(e)return"";const{validationMessages:r={}}=(0,n.getConfig)("osf/form");if(!r)return"";const i=(0,n.getContext)(),{validationRules:o}=i,a=t[0];if(void 0===r?.[a])return"";let s=r[a];switch(a){case"minLength":s=s.replace("{{min}}",o.minLength);break;case"maxLength":s=s.replace("{{max}}",o.maxLength)}return s}},actions:{handleFieldFocus(){(0,n.getContext)().isFocused=!0},handleFieldBlur(){(0,n.getContext)().isFocused=!1},handleFieldChange(){const e=(0,n.getContext)(),{ref:t}=(0,n.getElement)();e.value=t.value,a.validateField()},validateField(){console.log("validateField",(0,n.getElement)().ref.getAttribute("name"),(0,n.getContext)());const e=(0,n.getContext)(),{value:t,validationRules:i}=e,{isValid:o,errors:a}=r.validate(t,i);e.isValid=o,e.validationErrors=a},onFormSubmit:(0,n.withSyncEvent)((e=>{e.preventDefault();const t=e.currentTarget,n=new FormData(t),r=Object.fromEntries(n.entries());console.log("onFormSubmit",r)}))}});