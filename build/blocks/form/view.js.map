{"version":3,"file":"blocks/form/view.js","mappings":"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","sources":["webpack://outstand-forms/./src/validation-registry.js","webpack://outstand-forms/./src/validators/email.js","webpack://outstand-forms/./src/validators/index.js","webpack://outstand-forms/./src/validators/maxLength.js","webpack://outstand-forms/./src/validators/minLength.js","webpack://outstand-forms/./src/validators/pattern.js","webpack://outstand-forms/./src/validators/required.js","webpack://outstand-forms/./src/validators/url.js","webpack://outstand-forms/external module \"@wordpress/interactivity\"","webpack://outstand-forms/webpack/bootstrap","webpack://outstand-forms/webpack/runtime/define property getters","webpack://outstand-forms/webpack/runtime/hasOwnProperty shorthand","webpack://outstand-forms/webpack/runtime/make namespace object","webpack://outstand-forms/./src/blocks/form/view.js"],"sourcesContent":["const validationRegistry = {\n\t/**\n\t * List of registered validators.\n\t *\n\t * @type {Object}\n\t */\n\tvalidators: {},\n\n\t/**\n\t * Register a new validator.\n\t *\n\t * @param {*} name     Validator name.\n\t * @param {*} callback Validator callback.\n\t */\n\tregister(name, callback) {\n\t\tthis.validators[name] = callback;\n\t},\n\n\t/**\n\t * Get a validator by name.\n\t *\n\t * @param {string} name Validator name.\n\t * @return {Function|null} Validator callback or null if not found.\n\t */\n\tget(name) {\n\t\treturn this.validators[name];\n\t},\n\n\t/**\n\t * Validate a value against a set of rules.\n\t *\n\t * @param {*}      value The value to validate.\n\t * @param {Object} rules The validation rules.\n\t * @return {Object} Validation result.\n\t */\n\tvalidate(value, rules = {}) {\n\t\tconst errors = [];\n\n\t\tfor (const [ruleName, ruleConfig] of Object.entries(rules)) {\n\t\t\t// Skip if rule is disabled.\n\t\t\tif (ruleConfig === false) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst validator = this.get(ruleName);\n\n\t\t\t// Skip if validator doesn't exist.\n\t\t\tif (!validator) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst params = ruleConfig === true ? {} : ruleConfig;\n\t\t\tconst isValid = validator(value, params);\n\n\t\t\tif (!isValid) {\n\t\t\t\terrors.push(ruleName);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tisValid: errors.length === 0,\n\t\t\terrors,\n\t\t};\n\t},\n};\n\nexport default validationRegistry;\n","/**\n * Internal dependencies\n */\nimport validationRegistry from '../validation-registry';\n\nfunction emailFn(value) {\n\tif (!value) {\n\t\treturn true;\n\t}\n\n\tconst regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\treturn regex.test(value);\n}\n\nvalidationRegistry.register('email', emailFn);\n\nexport default emailFn;\n","import './required';\nimport './email';\nimport './url';\nimport './pattern';\nimport './minLength';\nimport './maxLength';\n","/**\n * Internal dependencies\n */\nimport validationRegistry from '../validation-registry';\n\nfunction maxLengthFn(value, length = 0) {\n\tif (!value || length === 0) {\n\t\treturn true;\n\t}\n\n\treturn value.length <= length;\n}\n\nvalidationRegistry.register('maxLength', maxLengthFn);\n\nexport default maxLengthFn;\n","/**\n * Internal dependencies\n */\nimport validationRegistry from '../validation-registry';\n\nfunction minLengthFn(value, length = 0) {\n\tif (!value || length === 0) {\n\t\treturn true;\n\t}\n\n\treturn value.length >= length;\n}\n\nvalidationRegistry.register('minLength', minLengthFn);\n\nexport default minLengthFn;\n","/**\n * Internal dependencies\n */\nimport validationRegistry from '../validation-registry';\n\nfunction patternFn(value, pattern = '') {\n\tif (!value || !pattern) {\n\t\treturn true;\n\t}\n\n\ttry {\n\t\tconst regex = new RegExp(pattern);\n\t\treturn regex.test(value);\n\t} catch {\n\t\treturn true;\n\t}\n}\n\nvalidationRegistry.register('pattern', patternFn);\n\nexport default patternFn;\n","/**\n * Internal dependencies\n */\nimport validationRegistry from '../validation-registry';\n\nfunction requiredFn(value) {\n\treturn value !== undefined && value !== null && value !== '';\n}\n\nvalidationRegistry.register('required', requiredFn);\n\nexport default requiredFn;\n","/**\n * Internal dependencies\n */\nimport validationRegistry from '../validation-registry';\n\nfunction url(value) {\n\tif (!value) {\n\t\treturn true;\n\t}\n\n\tconst regex = /^https?:\\/\\/[^\\s/$.?#].[^\\s]*$/i;\n\treturn regex.test(value);\n}\n\nvalidationRegistry.register('url', url);\n\nexport default url;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport {\n\tstore,\n\tgetContext,\n\tgetElement,\n\tgetConfig,\n\twithSyncEvent,\n\twithScope,\n} from '@wordpress/interactivity';\n\n/**\n * Internal dependencies\n */\nimport validationRegistry from './../../validation-registry';\nimport './../../validators';\n\nconst { state, actions } = store('osf/form', {\n\tstate: {\n\t\t/**\n\t\t * Get the aria-describedby attribute for the field.\n\t\t *\n\t\t * @return {string|undefined} The aria-describedby attribute.\n\t\t */\n\t\tget fieldAriaDescribedByAttribute() {\n\t\t\tconst { isValid, helpTextId, errorId } = getContext();\n\n\t\t\tif (!helpTextId && !errorId) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tif (!errorId) {\n\t\t\t\treturn helpTextId;\n\t\t\t}\n\n\t\t\treturn isValid ? helpTextId : `${errorId} ${helpTextId}`;\n\t\t},\n\t\t/**\n\t\t * Get the error message for the field.\n\t\t *\n\t\t * @return {string} The error message.\n\t\t */\n\t\tget fieldErrorMessage() {\n\t\t\tconst { isValid, validationErrors } = getContext();\n\n\t\t\t// Skip if there are no validation errors.\n\t\t\tif (isValid) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tconst { validationMessages = {} } = getConfig('osf/form');\n\n\t\t\t// Skip if there are no validation messages.\n\t\t\tif (!validationMessages) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tconst context = getContext();\n\t\t\tconst { validationRules } = context;\n\n\t\t\tconst error = validationErrors[0];\n\n\t\t\t// Skip if the error is not in the validation messages.\n\t\t\tif (validationMessages?.[error] === undefined) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tlet message = validationMessages[error];\n\t\t\tswitch (error) {\n\t\t\t\tcase 'minLength':\n\t\t\t\t\tmessage = message.replace('{{min}}', validationRules.minLength);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'maxLength':\n\t\t\t\t\tmessage = message.replace('{{max}}', validationRules.maxLength);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn message;\n\t\t},\n\t\t/**\n\t\t * Determine if the form is valid.\n\t\t *\n\t\t * @return {boolean} True if the form is valid, false otherwise.\n\t\t */\n\t\tget isFormValid() {\n\t\t\tconst { formFields } = getContext('osf/form');\n\t\t\treturn Object.keys(formFields).length > 0 && Object.values(formFields).every(Boolean);\n\t\t},\n\t},\n\tactions: {\n\t\t/**\n\t\t * Handle the field focus event.\n\t\t */\n\t\thandleFieldFocus() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isFocused = true;\n\t\t},\n\t\t/**\n\t\t * Handle the field blur event.\n\t\t */\n\t\thandleFieldBlur() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isFocused = false;\n\t\t},\n\t\t/**\n\t\t * Handle the field change event.\n\t\t */\n\t\thandleFieldChange() {\n\t\t\tconst context = getContext();\n\t\t\tconst { ref } = getElement();\n\t\t\tcontext.value = ref.value;\n\t\t},\n\t\t/**\n\t\t * Handle the field validate event.\n\t\t */\n\t\thandleFieldValidate() {\n\t\t\tconst context = getContext();\n\t\t\tconst { fieldId, value, validationRules } = context;\n\t\t\tconst { isValid, errors } = validationRegistry.validate(value, validationRules);\n\n\t\t\tcontext.isValid = isValid;\n\t\t\tcontext.validationErrors = errors;\n\n\t\t\tconst { ref } = getElement();\n\n\t\t\tconst formContext = getContext('osf/form');\n\t\t\tif (!formContext.formFields) {\n\t\t\t\tformContext.formFields = {};\n\t\t\t}\n\n\t\t\tformContext.formFields[fieldId] = isValid;\n\n\t\t\tconst event = new CustomEvent('osf-field-validated');\n\t\t\tref.dispatchEvent(event);\n\t\t},\n\t\t/**\n\t\t * Handle the form submit event.\n\t\t */\n\t\thandleFormSubmit: withSyncEvent((ev) => {\n\t\t\tev.preventDefault();\n\n\t\t\tconst { ref: form } = getElement();\n\n\t\t\tactions.validateForm().then(() => {\n\t\t\t\tconst event = new CustomEvent('osf-form-validated');\n\t\t\t\tform.dispatchEvent(event);\n\t\t\t});\n\n\t\t\tform.addEventListener(\n\t\t\t\t'osf-form-validated',\n\t\t\t\twithScope(() => {\n\t\t\t\t\tif (state.isFormValid) {\n\t\t\t\t\t\tform.submit();\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t);\n\t\t}),\n\t\t/**\n\t\t * Validate the form.\n\t\t *\n\t\t * @return {Promise} A promise that resolves when the validation is complete.\n\t\t */\n\t\tvalidateForm() {\n\t\t\tconst { formFields } = getContext('osf/form');\n\t\t\tconst { ref: form } = getElement();\n\n\t\t\tconst fieldIds = Object.keys(formFields || {});\n\t\t\tconst validations = fieldIds.map((fieldId) => {\n\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\tconst fieldElement = form.querySelector(`[id=\"${fieldId}\"]`);\n\t\t\t\t\tif (!fieldElement) {\n\t\t\t\t\t\treturn resolve();\n\t\t\t\t\t}\n\n\t\t\t\t\tconst validationHandler = () => {\n\t\t\t\t\t\tfieldElement.removeEventListener('osf-field-validated', validationHandler);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t};\n\n\t\t\t\t\tfieldElement.addEventListener('osf-field-validated', validationHandler, {\n\t\t\t\t\t\tonce: true,\n\t\t\t\t\t});\n\n\t\t\t\t\tconst event = new CustomEvent('osf-field-validate', { bubbles: true });\n\t\t\t\t\tfieldElement.dispatchEvent(event);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn Promise.all(validations);\n\t\t},\n\t},\n\tcallbacks: {\n\t\t/**\n\t\t * Register the field in the form context.\n\t\t */\n\t\tregisterField() {\n\t\t\tconst context = getContext();\n\t\t\tconst { fieldId, isValid } = context;\n\n\t\t\tconst formContext = getContext('osf/form');\n\t\t\tif (!formContext.formFields) {\n\t\t\t\tformContext.formFields = {};\n\t\t\t}\n\n\t\t\tformContext.formFields[fieldId] = isValid;\n\t\t},\n\t},\n});\n"],"names":["validationRegistry","validators","register","name","callback","get","validate","value","rules","errors","ruleName","ruleConfig","Object","entries","validator","params","isValid","push","length","emailFn","regex","test","maxLengthFn","minLengthFn","patternFn","pattern","RegExp","requiredFn","undefined","url","store","getContext","getElement","getConfig","withSyncEvent","withScope","state","actions","fieldAriaDescribedByAttribute","helpTextId","errorId","fieldErrorMessage","validationErrors","validationMessages","context","validationRules","error","message","replace","minLength","maxLength","isFormValid","formFields","keys","values","every","Boolean","handleFieldFocus","isFocused","handleFieldBlur","handleFieldChange","ref","handleFieldValidate","fieldId","formContext","event","CustomEvent","dispatchEvent","handleFormSubmit","ev","preventDefault","form","validateForm","then","addEventListener","submit","fieldIds","validations","map","Promise","resolve","fieldElement","querySelector","validationHandler","removeEventListener","once","bubbles","all","callbacks","registerField"],"sourceRoot":""}