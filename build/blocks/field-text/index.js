(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"UU":"osf/field-text"}');function o(e){var t,a,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=o(e[t]))&&(l&&(l+=" "),l+=a)}else for(a in e)e[a]&&(l&&(l+=" "),l+=a);return l}const a=function(){for(var e,t,a=0,l="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=o(e))&&(l&&(l+=" "),l+=t);return l},l=window.wp.blockEditor,s=window.wp.components,n=window.wp.element,r=window.wp.compose,i=window.wp.i18n,u=[{value:"top",label:(0,i.__)("Top","outstand-forms")},{value:"left",label:(0,i.__)("Left","outstand-forms")},{value:"right",label:(0,i.__)("Right","outstand-forms")}],d=[{value:"bottom",label:(0,i.__)("Bottom","outstand-forms")},{value:"top",label:(0,i.__)("Top","outstand-forms")}],_=[{label:"",value:""},{label:(0,i.__)("Disabled (off)","outstand-forms"),value:"off"},{label:(0,i.__)("Enabled (on)","outstand-forms"),value:"on"},{label:(0,i.__)("Full Name (name)","outstand-forms"),value:"name"},{label:(0,i.__)("First Name (given-name)","outstand-forms"),value:"given-name"},{label:(0,i.__)("Last Name (family-name)","outstand-forms"),value:"family-name"},{label:(0,i.__)("Email (email)","outstand-forms"),value:"email"},{label:(0,i.__)("Username (username)","outstand-forms"),value:"username"},{label:(0,i.__)("New Password (new-password)","outstand-forms"),value:"new-password"},{label:(0,i.__)("Current Password (current-password)","outstand-forms"),value:"current-password"},{label:(0,i.__)("Organization (organization)","outstand-forms"),value:"organization"},{label:(0,i.__)("Street Address (street-address)","outstand-forms"),value:"street-address"},{label:(0,i.__)("Address Line 1 (address-line1)","outstand-forms"),value:"address-line1"},{label:(0,i.__)("Address Line 2 (address-line2)","outstand-forms"),value:"address-line2"},{label:(0,i.__)("Country (country-name)","outstand-forms"),value:"country-name"},{label:(0,i.__)("ZIP/Postal Code (postal-code)","outstand-forms"),value:"postal-code"},{label:(0,i.__)("City (city)","outstand-forms"),value:"city"},{label:(0,i.__)("Region/State (region)","outstand-forms"),value:"region"},{label:(0,i.__)("Phone Number (tel)","outstand-forms"),value:"tel"},{label:(0,i.__)("Birthdate (bday)","outstand-forms"),value:"bday"},{label:(0,i.__)("Website URL (url)","outstand-forms"),value:"url"}],m=window.ReactJSXRuntime;function f({type:e="text",attributes:t,setAttributes:o}){const{required:l,placeholder:s}=t;return(0,m.jsx)("input",{type:e,className:a("osf-field__input",`osf-field__input--${e}`),"aria-label":(0,i.__)("Optional placeholder text","outstand-forms"),placeholder:s?void 0:(0,i.__)("Optional placeholder…","outstand-forms"),value:s,onChange:e=>{return t=e.target.value,void o({placeholder:t});var t},"aria-required":l})}function c({attributes:e,setAttributes:t,context:o}){const{label:a,required:s}=e,{"osf/requiredIndicator":n}=o;return(0,m.jsxs)("div",{className:"osf-field__label",children:[(0,m.jsx)(l.RichText,{tagName:"label",value:a,onChange:e=>{t({label:e})},"aria-label":a?(0,i.__)("Label","outstand-forms"):(0,i.__)("Empty label","outstand-forms"),placeholder:(0,i.__)("Type a label","outstand-forms"),allowedFormats:[]}),s&&n&&" ",s&&n&&(0,m.jsx)("span",{className:"osf-field__required-indicator",children:n})]})}const p=["core/bold","core/italic","core/strikethrough","core/text-color","core/subscript","core/superscript","core/underline"];function b({attributes:e,setAttributes:t}){const{helpText:o}=e;return(0,m.jsx)(l.RichText,{tagName:"div",value:o,onChange:e=>{t({helpText:e})},"aria-label":(0,i.__)("Optional help text…","outstand-forms"),placeholder:(0,i.__)("Add help text","outstand-forms"),allowedFormats:p,className:"osf-field__help-text"})}function x({type:e="text",attributes:t,setAttributes:o,context:a}){const{labelPosition:l,helpTextPosition:s}=t,n="left"===l||"right"===l,r=(0,m.jsx)(c,{attributes:t,setAttributes:o,context:a}),i=(0,m.jsx)(b,{attributes:t,setAttributes:o,context:a});let u="";return"text"===e&&(u=(0,m.jsx)(f,{type:"text",attributes:t,setAttributes:o,context:a})),(0,m.jsxs)(m.Fragment,{children:["right"!==l&&r,!n&&"top"===s&&i,n?(0,m.jsxs)("div",{className:"osf-field__wrapper",children:["top"===s&&i,u,"bottom"===s&&i]}):u,!n&&"bottom"===s&&i,"right"===l&&r]})}const h=window.wp.data,g=window.wp.primitives,v=()=>(0,m.jsx)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",className:"osf__icon osf__icon--field-text",children:(0,m.jsx)(g.Path,{d:"M5 4h1a3 3 0 0 1 3 3 3 3 0 0 1 3-3h1M13 20h-1a3 3 0 0 1-3-3 3 3 0 0 1-3 3H5M5 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h1M13 8h7a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-7M9 7v10"})});(0,e.registerBlockType)(t.UU,{edit:function e({clientId:t,attributes:o,setAttributes:f,context:c}){const{fieldId:p,name:b,label:g,labelPosition:v,required:w,defaultValue:C,placeholder:j,autocomplete:N,ariaLabel:y,helpText:B,helpTextPosition:T,minLength:M,maxLength:S}=o,A=(0,r.useInstanceId)(e),{fieldIds:P,stableFieldIds:k,hasFieldBlocks:I}=function(e){const{getBlockParentsByBlockName:t,getBlocks:o}=(0,h.useSelect)(l.store),a=(0,n.useMemo)((()=>t(e,"osf/form-fields")),[e,t]),s=(0,n.useMemo)((()=>a.length>0?o(a[0]):[]),[a,o]),r=(0,n.useMemo)((()=>s.map((e=>e?.attributes?.fieldId)).filter((e=>null!==e&&Number.isFinite(e)))),[s]),i=(0,n.useMemo)((()=>r.slice().sort().join(",")),[r]);return{fieldIds:r,stableFieldIds:i,hasFieldBlocks:s.length>0}}(t);(0,n.useEffect)((()=>{if(!I)return;const e=!Number.isFinite(p),t=Number.isFinite(p)&&P.includes(p);(e||t)&&Number.isFinite(A)&&f({fieldId:A})}),[I,p,P,k,A,f]);const L=(0,l.useBlockProps)({className:a("osf-field","osf-field--text",`osf-field--label-${v}`,`osf-field--help-text-${T}`,{"osf-field--required":w,"osf-field--has-label":!!g,"osf-field--has-help-text":!!B})});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{...L,children:(0,m.jsx)(x,{type:"text",attributes:o,setAttributes:f,context:c})}),(0,m.jsx)(l.InspectorControls,{children:(0,m.jsxs)(s.PanelBody,{title:(0,i.__)("Settings","outstand-forms"),children:[(0,m.jsx)(s.ToggleControl,{label:(0,i.__)("Required","outstand-forms"),checked:w,onChange:e=>{f({required:e})},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,m.jsx)(s.TextControl,{label:(0,i.__)("Default Value","outstand-forms"),value:C,onChange:e=>{f({defaultValue:e})},autoComplete:"off",help:(0,i.__)("The value that will be displayed by default.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,m.jsx)(s.TextControl,{label:(0,i.__)("Placeholder","outstand-forms"),value:j,onChange:e=>{f({placeholder:e})},autoComplete:"off",help:(0,i.__)("The text that will be displayed as a placeholder.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,m.jsx)(s.SelectControl,{label:(0,i.__)("Autocomplete","outstand-forms"),value:N,options:_,onChange:e=>{f({autocomplete:e})},help:(0,i.__)("Define how browsers autofill this field.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,m.jsx)(s.TextControl,{label:(0,i.__)("ARIA Label","outstand-forms"),value:y,onChange:e=>{f({ariaLabel:e})},autoComplete:"off",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]})}),(0,m.jsxs)(l.InspectorAdvancedControls,{children:[(0,m.jsx)(s.TextControl,{label:(0,i.__)("Name","outstand-forms"),value:b||`field_${p}`,onChange:e=>{f({name:e.trim()})},autoComplete:"off",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,m.jsx)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Label Position","outstand-forms"),value:v,isBlock:!0,onChange:e=>{f({labelPosition:e})},help:(0,i.__)("Select the position of the label.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,children:u.map((({value:e,label:t})=>(0,m.jsx)(s.__experimentalToggleGroupControlOption,{value:e,label:t},e)))}),(0,m.jsx)(s.__experimentalToggleGroupControl,{label:(0,i.__)("Help Text Position","outstand-forms"),value:T,isBlock:!0,onChange:e=>{f({helpTextPosition:e})},help:(0,i.__)("Select the position of the help text.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,children:d.map((({value:e,label:t})=>(0,m.jsx)(s.__experimentalToggleGroupControlOption,{value:e,label:t},e)))}),(0,m.jsx)(s.__experimentalNumberControl,{label:(0,i.__)("Minimum Characters","outstand-forms"),value:M,min:0,onChange:e=>{f({minLength:""!==e?parseInt(e,10):void 0})},help:(0,i.__)("Minimum number of characters required.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,m.jsx)(s.__experimentalNumberControl,{type:"number",label:(0,i.__)("Maximum Characters","outstand-forms"),value:S,min:0,onChange:e=>{f({maxLength:""!==e?parseInt(e,10):void 0})},help:(0,i.__)("Maximum number of characters allowed.","outstand-forms"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]})]})},save:function(){return null},icon:(0,m.jsx)(v,{})})})();